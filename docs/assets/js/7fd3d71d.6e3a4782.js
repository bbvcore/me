"use strict";(self.webpackChunkmydocs=self.webpackChunkmydocs||[]).push([[3267],{5964:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>u,frontMatter:()=>o,metadata:()=>r,toc:()=>t});const r=JSON.parse('{"id":"Ciberseguridad/Security Onion/so-arquitectura","title":"Arquitectura de SO","description":"Security Onion se trata de una distribuci\xf3n GNU/Linux para constituir un SOC (Security Operations Center) perfectamente capacitado para detectar, analizar y responder ante amenazas de seguridad.","source":"@site/docs/Ciberseguridad/Security Onion/so-arquitectura.md","sourceDirName":"Ciberseguridad/Security Onion","slug":"/Ciberseguridad/Security Onion/so-arquitectura","permalink":"/me/docs/docs/Ciberseguridad/Security Onion/so-arquitectura","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Ciberseguridad/Security Onion/so-arquitectura.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5,"title":"Arquitectura de SO"},"sidebar":"tutorialSidebar","previous":{"title":"Aplicaciones en el SO","permalink":"/me/docs/docs/Ciberseguridad/Security Onion/so-aplicaciones"},"next":{"title":"Versi\xf3n PRO y HW","permalink":"/me/docs/docs/Ciberseguridad/Security Onion/so-pro-hw"}}');var i=s(4848),a=s(8453);const o={sidebar_position:5,title:"Arquitectura de SO"},d="Arquitectura de Security Onion",c={},t=[{value:"Implementaci\xf3n de la arquitectura de SO",id:"implementaci\xf3n-de-la-arquitectura-de-so",level:2},{value:"Docker",id:"docker",level:3},{value:"Docker compose",id:"docker-compose",level:4},{value:"Principales scripts de Docker para SO",id:"principales-scripts-de-docker-para-so",level:3},{value:"Comandos adicionales para usar con docker y los contenedores",id:"comandos-adicionales-para-usar-con-docker-y-los-contenedores",level:4},{value:"Salt \ud83c\udf76",id:"salt-sake",level:3},{value:"Estructura de la arquitectura",id:"estructura-de-la-arquitectura",level:4},{value:"Funcionamiento de Salt",id:"funcionamiento-de-salt",level:4},{value:"Ficheros importantes de Salt",id:"ficheros-importantes-de-salt",level:4},{value:"Ejemplo de uso de comandos de Salt",id:"ejemplo-de-uso-de-comandos-de-salt",level:4},{value:"Otros conceptos rese\xf1ables \u2611\ufe0f",id:"otros-conceptos-rese\xf1ables-ballot_box_with_check",level:2},{value:"Logstash",id:"logstash",level:3},{value:"Kratos \ud83d\udd11",id:"kratos-key",level:3}];function l(e){const n={admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components},{Details:s}=n;return s||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"arquitectura-de-security-onion",children:"Arquitectura de Security Onion"})}),"\n",(0,i.jsxs)(n.p,{children:["Security Onion se trata de una distribuci\xf3n ",(0,i.jsx)(n.strong,{children:"GNU/Linux"})," para constituir un ",(0,i.jsx)(n.strong,{children:"SOC"})," ",(0,i.jsx)(n.em,{children:"(Security Operations Center)"})," perfectamente capacitado para detectar, analizar y responder ante amenazas de seguridad."]}),"\n",(0,i.jsxs)(n.p,{children:["Para ello implementa un ",(0,i.jsx)(n.strong,{children:"SIEM"})," ",(0,i.jsx)(n.em,{children:"(Security Information and Event Management)"})," para recoger y correlacionar los registros de logs y eventos de seguridad capturados para detectar amenazas. Para este fin se usa el ",(0,i.jsx)(n.strong,{children:"Stack de Elastic"})," como ",(0,i.jsx)(n.strong,{children:"SIEM"})," de ",(0,i.jsx)(n.strong,{children:"Security Onion"}),"."]}),"\n",(0,i.jsx)(n.admonition,{title:"Aplicaciones de la pila de Elastic",type:"tip",children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"ElasticSearch"}),": ",(0,i.jsx)(n.em,{children:"motor de b\xfasqueda y an\xe1lisis en tiempo real"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Logstash"}),": ",(0,i.jsx)(n.em,{children:"ingesta y transformaci\xf3n de datos"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Kibana"}),": ",(0,i.jsxs)(n.em,{children:["interfaz gr\xe1fica de visualizaci\xf3n de datos almacenados en ",(0,i.jsx)(n.strong,{children:"ElasticSearch"})]}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"ElasticAgent"}),":",(0,i.jsx)(n.em,{children:"recolecci\xf3n de logs y monitoreo en tiempo real"}),"."]}),"\n"]})}),"\n",(0,i.jsxs)(n.p,{children:["Adem\xe1s como ",(0,i.jsx)(n.strong,{children:"IDS/IPS"})," implementa la funcionalidad de detecci\xf3n y prevenci\xf3n de intrusiones con ",(0,i.jsx)(n.strong,{children:"Suricata"})," y ",(0,i.jsx)(n.strong,{children:"Zeek"}),"."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Suricata"}),", ",(0,i.jsx)(n.em,{children:"analiza el tr\xe1fico de red y genera avisos sobre la actividad que detecta como sospechosa"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Zeek"}),", ",(0,i.jsx)(n.em,{children:"captura y analiza el tr\xe1fico permitiendo generar registros sobre las incidencias"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Adem\xe1s permite la gesti\xf3n de ",(0,i.jsx)(n.strong,{children:"endpoints"})," con ",(0,i.jsx)(n.strong,{children:"Fleet"}),", el cual utiliza agentes de *",(0,i.jsx)(n.em,{children:"elastciAgent"}),", permitiendo an\xe1lisis y b\xfasquedas centralizadas."]}),"\n",(0,i.jsx)(n.h2,{id:"implementaci\xf3n-de-la-arquitectura-de-so",children:"Implementaci\xf3n de la arquitectura de SO"}),"\n",(0,i.jsxs)(n.p,{children:["Security Onion ejecuta como base un sistema GNU/Linux basado en ",(0,i.jsx)(n.strong,{children:"Oracle Linux (RHEL)"})," que a su vez utiliza contenedores ",(0,i.jsx)(n.strong,{children:"Docker"})," para poder empaquetar y gestionar de la mejor manera las aplicaciones que implementa el ",(0,i.jsx)(n.strong,{children:"SOC"}),", aportando flexibilidad y escalabilidad, adem\xe1s de establecer un sistema aislado de gesti\xf3n donde cada servicio se administra de forma independiente evitando interferencias entre servicios y problemas futuros derivados de las actualizaciones de cada uno. Adem\xe1s, para la orquestaci\xf3n de este entorno multicontenedor se utiliza *",(0,i.jsx)(n.em,{children:"docker compose"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"docker",children:"Docker"}),"\n",(0,i.jsx)(n.p,{children:"Se trata de un sistema de contenedores que permite construir elementos estancos e independientes para ejecutar servicios evitando conflictos entre los diferentes servicios."}),"\n",(0,i.jsx)(n.h4,{id:"docker-compose",children:"Docker compose"}),"\n",(0,i.jsxs)(n.p,{children:["Los contenedores de ",(0,i.jsx)(n.strong,{children:"Docker"})," pueden requerir de configuraciones personalizadas diferentes a las im\xe1genes disponibles en el ",(0,i.jsx)(n.strong,{children:"docker hub container"})," ",(0,i.jsx)(n.em,{children:"(como im\xe1genes propias realizadas a trav\xe9s de dockerfiles)"}),", y junto a las del docker hub, se pueden implementar de una forma sencilla a trav\xe9s de ",(0,i.jsx)(n.strong,{children:"docker-compose"})," y el uso de ficheros *",(0,i.jsx)(n.strong,{children:"Yaml"}),", de esta forma se puede trabajar en un entorno multi-contenedor de una forma sencilla."]}),"\n",(0,i.jsx)(n.h3,{id:"principales-scripts-de-docker-para-so",children:"Principales scripts de Docker para SO"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Security Onion"})," dispone de unos scripts b\xe1sicos para interaccionar con los contenedores."]}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:(0,i.jsx)(n.p,{children:"Listado de scripts para realizar funciones con los contenedores de Security Onion"})}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)("b",{children:"so-setup"}),": el ",(0,i.jsx)("b",{children:"script inicial"})," para desplegar ",(0,i.jsx)("b",{children:"Security Onion"}),", actua como gu\xeda del proceso de configuraci\xf3n e instalaci\xf3n."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)("b",{children:"so-docker"}),": script para la ",(0,i.jsx)("b",{children:"gesti\xf3n de los contenedores"})," docker que implementan los servicios en Security Onion."]}),"\n"]}),"\n"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"sudo so-docker ps\r\nsudo so-docker start / stop / restart\n"})}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)("b",{children:"so-config"}),": para modificar la configuraci\xf3n de herramientas del sistema como suricata o elastic stack desde la terminal."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)("b",{children:"so-elastic"}),": controlar y gestionar ",(0,i.jsx)("b",{children:"ElasticSearch"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)("b",{children:"so-roles"}),": gesti\xf3n de las pol\xedticas de ",(0,i.jsx)("b",{children:"Security Onion"}),", como los permisos de los usuarios."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)("b",{children:"so-prepare"}),": para la instalaci\xf3n de de componentes adicionales de ",(0,i.jsx)("b",{children:"Security Onion"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)("b",{children:"so-status"}),": muestra el estado de todos los contenedores en ejecuci\xf3n en ",(0,i.jsx)("b",{children:"Security Onion"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)("b",{children:"so-update"}),": realiza la actualizaci\xf3n de todos los componentes a la \xfaltima versi\xf3n. ",(0,i.jsx)("b",{children:"IMPORTANTE"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)("b",{children:"so-logging"}),": informaci\xf3n y recapitulaci\xf3n de los logs del OS."]}),"\n"]}),"\n"]})]}),"\n",(0,i.jsx)(n.h4,{id:"comandos-adicionales-para-usar-con-docker-y-los-contenedores",children:"Comandos adicionales para usar con docker y los contenedores"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Detener todos los contenedores"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"sudo docker stop $(sudo docker ps -q)\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Inicializar un contenedor concreto"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'sudo docker container "nameContainer/id"\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Consultar los logs del sistema"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'sudo docker logs "containerName/id"\n'})}),"\n",(0,i.jsxs)(n.h3,{id:"salt-sake",children:["Salt ","\ud83c\udf76"]}),"\n",(0,i.jsxs)(n.p,{children:["La infraestructura de ",(0,i.jsx)(n.strong,{children:"SaltStack"})," se basa en una arquitectura cliente/servidor para la ",(0,i.jsx)(n.strong,{children:"administraci\xf3n remota"})," que actua como el backbone de ",(0,i.jsx)(n.strong,{children:"Security Onion"})," para la interacci\xf3n entre los diferentes ",(0,i.jsx)(n.strong,{children:"nodos"})," de una ",(0,i.jsx)(n.strong,{children:"arquitectura distribuida"}),", de esta forma, mediante ",(0,i.jsx)(n.strong,{children:"Salt"})," se pueden utilizar diferentes nodos sin necesitar de intervenci\xf3n manual en cada m\xe1quina."]}),"\n",(0,i.jsx)(n.admonition,{title:"Importante",type:"warning",children:(0,i.jsxs)(n.p,{children:["Gestiona ",(0,i.jsx)(n.strong,{children:"TODOS"})," los ",(0,i.jsx)(n.strong,{children:"procesos"})," en ",(0,i.jsx)(n.strong,{children:"Security Onion"}),". En un sistema distribuido el nodo del gestor controla al resto de nodos a trav\xe9s de Salt, a estos nodos no gestores se les denomina ",(0,i.jsx)(n.strong,{children:"Salt Minions"}),"."]})}),"\n",(0,i.jsxs)(n.p,{children:["Para que los ",(0,i.jsx)(n.strong,{children:"Minions"})," de ",(0,i.jsx)(n.strong,{children:"Salt"})," se puedan conectar al nodo gestor es necesario que se pueda acceder a los puertos ",(0,i.jsx)(n.strong,{children:"TCP"})," n\xfamero ",(0,i.jsx)(n.strong,{children:"4505"})," y ",(0,i.jsx)(n.strong,{children:"4506"}),"."]}),"\n",(0,i.jsx)(n.h4,{id:"estructura-de-la-arquitectura",children:"Estructura de la arquitectura"}),"\n",(0,i.jsx)(n.p,{children:"Como se ha comentado, basa su funcionamiento en una arquitectura Cliente / Servidor con una nomenclarura propia."}),"\n",(0,i.jsx)(n.admonition,{title:"Nomenclatura",type:"tip",children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Salt Master"}),": es el nodo maestro que administra la red distribuida y controla los nodos."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Nodos o Salt Minions"}),": ejecutan los comandos que reciben desde el maestro."]}),"\n"]})}),"\n",(0,i.jsxs)(n.p,{children:["El ",(0,i.jsx)(n.strong,{children:"master"})," es el ",(0,i.jsx)(n.strong,{children:"nodo principal"}),", que puede estar en el modo ",(0,i.jsx)(n.strong,{children:"Standalone"})," y ",(0,i.jsx)(n.strong,{children:"Evaluate"}),", en ",(0,i.jsx)(n.em,{children:"resto de nodos"})," actuan los ",(0,i.jsx)(n.strong,{children:"minions"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"Adem\xe1s del master y de los minions hay que tener en cuenta los siguientes elementos:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Grains"}),": es la informaci\xf3n detallada de cada minion (CPU, RAM...)"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Pillars"}),": datos importantes y configuraciones personalizadas para los minions."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"States"}),": aplican las configuraciones y estados automatizados para los minions."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"funcionamiento-de-salt",children:"Funcionamiento de Salt"}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:(0,i.jsx)(n.p,{children:"Listado de las principales funciones realizadas por Salt"})}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Automatizaci\xf3n de la configuraci\xf3n de los minions"})," a trav\xe9s del master."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Sincronizaci\xf3n de las reglas"})," de detecci\xf3n de intrusiones y de las ",(0,i.jsx)(n.strong,{children:"configuraciones de seguridad"})," implementadas."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Distribuci\xf3n"})," de las ",(0,i.jsx)(n.strong,{children:"actualizaciones y parches"})," de seguridad a toda la estructura distribuida."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Orquestaci\xf3n"})," para la gesti\xf3n de ",(0,i.jsx)(n.strong,{children:"Docker"})," y de los ",(0,i.jsx)(n.strong,{children:"contenedores implementados"})," para los diferentes servicios."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Realiza la ",(0,i.jsx)(n.strong,{children:"monitorizaci\xf3n"})," del ",(0,i.jsx)(n.strong,{children:"sistema"})," acorde a las pol\xedticas."]}),"\n"]}),"\n"]})]}),"\n",(0,i.jsx)(n.h4,{id:"ficheros-importantes-de-salt",children:"Ficheros importantes de Salt"}),"\n",(0,i.jsxs)(n.p,{children:["Los ficheros de configuraci\xf3n est\xe1n escritos en formato ",(0,i.jsx)(n.strong,{children:"YAML"}),", destacan los siguientes:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"/etc/salt/master"}),": configuraci\xf3n del master"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"/etc/salt/minion"}),": configuraci\xf3n de los minions"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"/opt/so/saltstack/local"}),": estado y configuraci\xf3n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"/opt/so/saltstack/local/pillar"}),": datos sensibles de pillar"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"/etc/salt/grains"}),": informaci\xf3n de los grains"]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"ejemplo-de-uso-de-comandos-de-salt",children:"Ejemplo de uso de comandos de Salt"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Listar los minions"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"sudo salt-key -A\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Enviar un comando a todos los minions"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"sudo salt '*' test.ping\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Consultar los Grains de un minion"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"sudo salt 'identificador-minion' grains.items\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Aplicar un estado a un minion"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"sudo salt 'indentificador-minion' state.apply 'stateName'\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Reiniciar todos los minons"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"sudo salt '*' system.reboot\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Verificar permisos configurados en el master"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"sudo salt-run pillar.items\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Editar reglas servicio, por ejemplo Suricata"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"sudo nano /opt/so/saltstack/local/salt/suricata/rules/custom.rules\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Aplicar las reglas editadas de Suricata a todos los minions"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"sudo salta '*?' state.apply suricata\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Reinicar Suricata en los minions para aplicar las reglas"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"sudo salt '*' cmd.run 'systemctl restart suricata'\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Verificar estado"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"sudo salt \\* test.ping\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Ejecuci\xf3n remota"}),"\r\nPara poder ejecutar un comando en todos los nodos, en este ejemplo el comando ",(0,i.jsx)(n.strong,{children:"df"})," a trav\xe9s de ",(0,i.jsx)(n.strong,{children:"cmd.run"})]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"sudo salt \\* cmd.run 'df'\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Forzar un nodo a una actualizaci\xf3n completa"}),"\r\nDe esta forma el nodo actualizar\xe1 de forma completa todos los estados de Salt."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"sudo so-checkin\n"})}),"\n",(0,i.jsx)(n.admonition,{title:"Proyecto Salt",type:"tip",children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"+ info"}),": ",(0,i.jsx)("a",{href:"https://docs.saltproject.io/en/latest/topics/about-salt.project.html-salt",children:"Salt project"})]}),"\n"]})}),"\n",(0,i.jsxs)(n.p,{children:["Otros ajustes de configuraci\xf3n que se quieran llevar a cabo en ",(0,i.jsx)(n.strong,{children:"Salt"})," se pueden realizar desde ",(0,i.jsx)(n.strong,{children:"Administration"})," -> ",(0,i.jsx)(n.strong,{children:"Configuration"}),". Si se necesita realizar un diagn\xf3stico se puede acceder a la siguiente ruta."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"/opt/so/log/salt\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"otros-conceptos-rese\xf1ables-ballot_box_with_check",children:["Otros conceptos rese\xf1ables ","\u2611\ufe0f"]}),"\n",(0,i.jsx)(n.h3,{id:"logstash",children:"Logstash"}),"\n",(0,i.jsxs)(n.p,{children:["Es una herramienta de procesamiento de ",(0,i.jsx)(n.strong,{children:"logs"})," perteneciente a la pila de ",(0,i.jsx)(n.strong,{children:"Elastic"})," utilizada para la recolecci\xf3n, tratamiento y transporte de datos."]}),"\n",(0,i.jsxs)(n.h3,{id:"kratos-key",children:["Kratos ","\ud83d\udd11"]}),"\n",(0,i.jsxs)(n.p,{children:["Se trata de una herramienta que se utiliza para proporcionar ",(0,i.jsx)(n.strong,{children:"gesti\xf3n de las credenciales"})," de los usuarios dentro de la plataforma. Se puede integrar con otros sistemas de autenticaci\xf3n como ",(0,i.jsx)(n.strong,{children:"Ldap"})," o ",(0,i.jsx)(n.strong,{children:"OAuth"})," para permitir una ",(0,i.jsx)(n.strong,{children:"SSO"})," ",(0,i.jsx)(n.em,{children:"(Inicio de sesi\xf3n \xfanico)"}),"."]})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>d});var r=s(6540);const i={},a=r.createContext(i);function o(e){const n=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);
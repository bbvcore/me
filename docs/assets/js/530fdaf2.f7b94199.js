"use strict";(self.webpackChunkmydocs=self.webpackChunkmydocs||[]).push([[2632],{134:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>a,toc:()=>t});const a=JSON.parse('{"id":"Aplicaciones/node-red","title":"Node-red","description":"128225; Node-red","source":"@site/docs/Aplicaciones/node-red.md","sourceDirName":"Aplicaciones","slug":"/Aplicaciones/node-red","permalink":"/me/docs/docs/Aplicaciones/node-red","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Aplicaciones/node-red.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"Node-red"},"sidebar":"tutorialSidebar","previous":{"title":"Git","permalink":"/me/docs/docs/Aplicaciones/git"},"next":{"title":"Certificados","permalink":"/me/docs/docs/Ciberseguridad/Certificados/"}}');var d=s(4848),r=s(8453);const i={sidebar_position:3,title:"Node-red"},o="\ud83d\udce1 Node-red",l={},t=[{value:"\ud83d\udcbd Instalaci\xf3n",id:"-instalaci\xf3n",level:2},{value:"\u2713 Actualizaci\xf3n del sistema",id:"-actualizaci\xf3n-del-sistema",level:3},{value:"\u2713 Instalaci\xf3n de NodeJS",id:"-instalaci\xf3n-de-nodejs",level:2},{value:"\u2713 Instalaci\xf3n de Node-red (sin Admin)",id:"-instalaci\xf3n-de-node-red-sin-admin",level:2},{value:"\u2713 Instalaci\xf3n de Node-red (Admin)",id:"-instalaci\xf3n-de-node-red-admin",level:2},{value:"\u2713 Generar hash",id:"-generar-hash",level:3},{value:"\u2705 Lanzamiento de node-red",id:"-lanzamiento-de-node-red",level:2},{value:"\ud83e\uddd1 Soluciones a problemas",id:"-soluciones-a-problemas",level:2},{value:"\ud83d\udd14 Problema con ESP32 y platform del serial",id:"-problema-con-esp32-y-platform-del-serial",level:3},{value:"\u274c Otros problemas y soluciones",id:"-otros-problemas-y-soluciones",level:3}];function c(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.header,{children:(0,d.jsx)(n.h1,{id:"-node-red",children:"\ud83d\udce1 Node-red"})}),"\n",(0,d.jsxs)(n.p,{children:["Se trata de un ",(0,d.jsx)(n.strong,{children:"software"})," ",(0,d.jsx)(n.em,{children:"basado"})," en ",(0,d.jsx)(n.strong,{children:"flujos"}),", mediante ",(0,d.jsx)(n.strong,{children:"componentes JSON"}),", para trabajar con diferentes tecnolog\xedas como ",(0,d.jsx)(n.strong,{children:"APIs"}),", ",(0,d.jsx)(n.strong,{children:"hardware"})," o ",(0,d.jsx)(n.em,{children:"servicios"})," basado en ",(0,d.jsx)(n.strong,{children:"NodeJS"})," y ampliamente popular en ",(0,d.jsx)(n.strong,{children:"IoT"}),"."]}),"\n",(0,d.jsx)(n.h2,{id:"-instalaci\xf3n",children:"\ud83d\udcbd Instalaci\xf3n"}),"\n",(0,d.jsx)(n.h3,{id:"-actualizaci\xf3n-del-sistema",children:"\u2713 Actualizaci\xf3n del sistema"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"sudo apt install update\r\nsudo apt install upgrade\n"})}),"\n",(0,d.jsx)(n.h2,{id:"-instalaci\xf3n-de-nodejs",children:"\u2713 Instalaci\xf3n de NodeJS"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"sudo apt install nodejs -y\n"})}),"\n",(0,d.jsx)(n.h2,{id:"-instalaci\xf3n-de-node-red-sin-admin",children:"\u2713 Instalaci\xf3n de Node-red (sin Admin)"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"npm install -g --unsafe-perm node-red \n"})}),"\n",(0,d.jsx)(n.h2,{id:"-instalaci\xf3n-de-node-red-admin",children:"\u2713 Instalaci\xf3n de Node-red (Admin)"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"npm install -g --unsafe-perm node-red-admin\n"})}),"\n",(0,d.jsx)(n.h3,{id:"-generar-hash",children:"\u2713 Generar hash"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"node-red admin hash-pw \n"})}),"\n",(0,d.jsx)(n.p,{children:"Guardar el hash para el fichero de configuraci\xf3n generado tras introducir un password para lograr su generaci\xf3n."}),"\n",(0,d.jsx)(n.p,{children:"Una vez guardado se accede al fichero settings, en mi caso este fichero est\xe1 en la siguiente ruta."}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"/usr/lib/node_modules/node-red/settings.js # global\r\n~/.node-red/settings.js # local, es donde se ha de editar el pass\n"})}),"\n",(0,d.jsxs)(n.p,{children:["Una vez abierto hay que buscar la secci\xf3n de ",(0,d.jsx)(n.strong,{children:"adminAuth"})," y en la propiedad ",(0,d.jsx)(n.strong,{children:"password"})," del objeto pegar el hash previamente generado."]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-javascript",children:'   adminAuth: {\r\n        type: "credentials",\r\n        users: [{\r\n            username: "admin", # Se puede personalizar\r\n            password: "<pegar Hash>",\r\n            permissions: "*"\r\n        }]\r\n    },\n'})}),"\n",(0,d.jsxs)(n.p,{children:["Tambi\xe9n, justo encima de este objeto, se puede descomentar la propiedad ",(0,d.jsx)(n.strong,{children:"credentialSettings"})," y a\xf1adir una password para a\xf1adir seguridad en un entorno de producci\xf3n, ya que cifra las contrase\xf1as almacenadas en nodos como MySQL, Mqtt..."]}),"\n",(0,d.jsx)(n.h2,{id:"-lanzamiento-de-node-red",children:"\u2705 Lanzamiento de node-red"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"node-red\n"})}),"\n",(0,d.jsx)(n.h2,{id:"-soluciones-a-problemas",children:"\ud83e\uddd1 Soluciones a problemas"}),"\n",(0,d.jsx)(n.h3,{id:"-problema-con-esp32-y-platform-del-serial",children:"\ud83d\udd14 Problema con ESP32 y platform del serial"}),"\n",(0,d.jsxs)(n.p,{children:["Es necesario a\xf1adir nuestro usuario al grupo ",(0,d.jsx)(n.strong,{children:"dialout"}),"."]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"sudo usermod -a -G dialout $USER\n"})}),"\n",(0,d.jsx)(n.h3,{id:"-otros-problemas-y-soluciones",children:"\u274c Otros problemas y soluciones"}),"\n",(0,d.jsxs)(n.p,{children:["Los usuarios de sistemas GNU/Linux para usar este tipo de placas, como las usadas a trav\xe9s de ",(0,d.jsx)(n.strong,{children:"platform.io"}),", se ven obligados a instalar el espacio de usuario de dispositivos (udev), el cual es un administrador de nodos del dispositivo y tambi\xe9n un manejador de los eventos que suceden al agregar o eliminar dispositivos de HW del OS."]}),"\n",(0,d.jsx)(n.admonition,{type:"warning",children:(0,d.jsxs)(n.p,{children:["Para este tipo de problem\xe1ticas consultar el siguiente enlace:\r\n",(0,d.jsx)(n.a,{href:"https://docs.platformio.org/en/latest/core/installation/udev-rules.html",children:"https://docs.platformio.org/en/latest/core/installation/udev-rules.html"})]})})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(c,{...e})}):c(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>o});var a=s(6540);const d={},r=a.createContext(d);function i(e){const n=a.useContext(r);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:i(e.components),a.createElement(r.Provider,{value:n},e.children)}}}]);
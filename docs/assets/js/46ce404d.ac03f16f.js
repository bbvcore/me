"use strict";(self.webpackChunkmydocs=self.webpackChunkmydocs||[]).push([[9997],{8453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>o});var i=s(6540);const r={},a=i.createContext(r);function l(e){const n=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(a.Provider,{value:n},e.children)}},9580:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>l,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"Servidores/Linux/OPNsense","title":"OPNsense","description":"OPNsense es una distribuci\xf3n FreeBSD que se utiliza como Firewall.","source":"@site/docs/Servidores/Linux/OPNsense.md","sourceDirName":"Servidores/Linux","slug":"/Servidores/Linux/OPNsense","permalink":"/me/docs/docs/Servidores/Linux/OPNsense","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Servidores/Linux/OPNsense.md","tags":[],"version":"current","frontMatter":{"sidebar_title":1,"title":"OPNsense"},"sidebar":"tutorialSidebar","previous":{"title":"Bind","permalink":"/me/docs/docs/Servidores/Linux/BIND"},"next":{"title":"Servidores Web con SSL","permalink":"/me/docs/docs/Servidores/Multiplataforma/servidores-web"}}');var r=s(4848),a=s(8453);const l={sidebar_title:1,title:"OPNsense"},o="OPNsense",c={},d=[{value:"Descarga",id:"descarga",level:2},{value:"Requisitos",id:"requisitos",level:2},{value:"M\xednimos",id:"m\xednimos",level:3},{value:"Deseables / Recomendados",id:"deseables--recomendados",level:3},{value:"Interfaces de red",id:"interfaces-de-red",level:2},{value:"Instalaci\xf3n",id:"instalaci\xf3n",level:2},{value:"Login",id:"login",level:3},{value:"Seleccionar la distribuci\xf3n del teclado",id:"seleccionar-la-distribuci\xf3n-del-teclado",level:3},{value:"Formato instalaci\xf3n",id:"formato-instalaci\xf3n",level:3},{value:"Instalar la opci\xf3n ZFS",id:"instalar-la-opci\xf3n-zfs",level:3},{value:"Cambio de contrase\xf1a",id:"cambio-de-contrase\xf1a",level:3},{value:"Escoger completar instalaci\xf3n",id:"escoger-completar-instalaci\xf3n",level:3},{value:"Men\xfa de configuraci\xf3n",id:"men\xfa-de-configuraci\xf3n",level:3},{value:"Configuraci\xf3n de interfaces de red",id:"configuraci\xf3n-de-interfaces-de-red",level:3},{value:"Asignar interfaces de red",id:"asignar-interfaces-de-red",level:3},{value:"Asignar direcci\xf3n IP",id:"asignar-direcci\xf3n-ip",level:3}];function t(e){const n={admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"opnsense",children:"OPNsense"})}),"\n",(0,r.jsx)(n.p,{children:"OPNsense es una distribuci\xf3n FreeBSD que se utiliza como Firewall."}),"\n",(0,r.jsx)(n.h2,{id:"descarga",children:"Descarga"}),"\n",(0,r.jsx)(n.p,{children:"La descarga se realiza desde su propia p\xe1gina web, la cual est\xe1 accesible en la siguiente URL."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"https://opnsense.org/download\n"})}),"\n",(0,r.jsx)(n.h2,{id:"requisitos",children:"Requisitos"}),"\n",(0,r.jsx)(n.h3,{id:"m\xednimos",children:"M\xednimos"}),"\n",(0,r.jsxs)("table",{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Procesador"}),(0,r.jsx)("td",{children:"1 GHz dual core"})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"RAM"}),(0,r.jsx)("td",{children:"2 GB"})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"HDD"}),(0,r.jsx)("td",{children:"4 GB"})]})]}),"\n",(0,r.jsx)(n.h3,{id:"deseables--recomendados",children:"Deseables / Recomendados"}),"\n",(0,r.jsxs)("table",{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Procesador"}),(0,r.jsx)("td",{children:"1.5 GHz multi core"})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"RAM"}),(0,r.jsx)("td",{children:"4GB / 8GB RAM"}),(0,r.jsx)("tr",{}),(0,r.jsx)("td",{children:"HDD"}),(0,r.jsx)("td",{children:"40GB / 120GB"})]})]}),"\n",(0,r.jsx)(n.h2,{id:"interfaces-de-red",children:"Interfaces de red"}),"\n",(0,r.jsxs)(n.p,{children:["M\xednimo se requieren de 2 tarjetas Ethernet, una para hacer de ",(0,r.jsx)(n.strong,{children:"WAN"})," ",(0,r.jsx)(n.em,{children:"(la que tendr\xe1 que salida a internet)"})," y otra que har\xe1 de ",(0,r.jsx)(n.strong,{children:"LAN"})," ",(0,r.jsx)(n.em,{children:"(la que conectar\xe1 con nuestra la red local)"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["Inicialmente la interfaz de ",(0,r.jsx)(n.strong,{children:"WAN"})," en entorno simulado ser\xe1 con *",(0,r.jsx)(n.em,{children:"Bridge"})," y la interfaz de ",(0,r.jsx)(n.strong,{children:"LAN"})," ser\xe1 en modo red interna."]}),"\n",(0,r.jsxs)(n.admonition,{title:"Credenciales",type:"warning",children:[(0,r.jsxs)(n.p,{children:["En OPNsense, de serie hay 2 usuarios, uno es ",(0,r.jsx)(n.strong,{children:"root"})," y otro es ",(0,r.jsx)(n.strong,{children:"installer"}),". Las credenciales son las siguientes:"]}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"User: root, Password: opnsense"}),"\n",(0,r.jsx)(n.li,{children:"User: installer, Password: opnsense"}),"\n"]})]}),"\n",(0,r.jsx)(n.h2,{id:"instalaci\xf3n",children:"Instalaci\xf3n"}),"\n",(0,r.jsx)(n.p,{children:"Dejar bootear normal la live CD y comprobar que detecte las dos interfaces de red. Una vez finaliza se muestra un login."}),"\n",(0,r.jsx)(n.p,{children:":::[LAGGs y VLANs]"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"LAGGs: Permite concentrar varios enlaces de red f\xedsicos en uno l\xf3gico."}),"\n",(0,r.jsx)(n.li,{children:"WLANs: Redes virtuales mediante enlaces troncales gestionadas a trav\xe9s de etiquetas de 4 bytes.\n:::"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"login",children:"Login"}),"\n",(0,r.jsxs)(n.p,{children:["Como vamos a realizar la instalaci\xf3n hacemos login con el usuario ",(0,r.jsx)(n.strong,{children:"installer"}),". Una vez accedido al sistema nos sale un asistente de instalaci\xf3n en la shell."]}),"\n",(0,r.jsx)(n.h3,{id:"seleccionar-la-distribuci\xf3n-del-teclado",children:"Seleccionar la distribuci\xf3n del teclado"}),"\n",(0,r.jsx)(n.p,{children:"En este caso se escoge espa\xf1ol con acentos, una vez escogido nos muestra una secci\xf3n donde podemos comprobar que el teclado funcione correctamente insertando simbolos o palabras con tildes."}),"\n",(0,r.jsx)(n.h3,{id:"formato-instalaci\xf3n",children:"Formato instalaci\xf3n"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"UFS"}),": por defecto GPT/UEFI hybrid"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"ZFS"}),": m\xe1s robusto y tambi\xe9n GPT/UEFI hybrid"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Import config"}),": para recuperar una instalaci\xf3n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Password reset"}),": permite resetear la password"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Force reboot"}),": forzar el reinicio"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"instalar-la-opci\xf3n-zfs",children:"Instalar la opci\xf3n ZFS"}),"\n",(0,r.jsxs)(n.p,{children:["Ofrece varias opciones de particionado, acorde al hardware que se dispone, suelen ser sistemas ",(0,r.jsx)(n.strong,{children:"RAID"}),", en este caso como solo hay un disco uso la opci\xf3n ",(0,r.jsx)(n.strong,{children:"Stripe"}),". Una vez seleccionado el instalador mostrar\xe1 el tipico mensaje de advertencia."]}),"\n",(0,r.jsx)(n.h3,{id:"cambio-de-contrase\xf1a",children:"Cambio de contrase\xf1a"}),"\n",(0,r.jsxs)(n.p,{children:["Una vez escogido el disco se nos ofrece la posibilidad de cambiar la contrase\xf1a del usuario ",(0,r.jsx)(n.strong,{children:"root"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"escoger-completar-instalaci\xf3n",children:"Escoger completar instalaci\xf3n"}),"\n",(0,r.jsx)(n.p,{children:"Una vez completada la instalaci\xf3n se reiniciar\xe1 la distribuci\xf3n y se podr\xe1 hacer login en nuestra instalaci\xf3n, con la cuenta root y con el password modificado."}),"\n",(0,r.jsx)(n.h3,{id:"men\xfa-de-configuraci\xf3n",children:"Men\xfa de configuraci\xf3n"}),"\n",(0,r.jsx)(n.p,{children:"Una vez logueado vemos un men\xfa de configuraci\xf3n, pero justo antes unas llaves SHA256 para HTTPS y SSH."}),"\n",(0,r.jsx)(n.p,{children:"En cuanto al men\xfa vamos a proceder a configurar nuestras 2 interfaces, la de la WAN y la de la LAN."}),"\n",(0,r.jsx)(n.h3,{id:"configuraci\xf3n-de-interfaces-de-red",children:"Configuraci\xf3n de interfaces de red"}),"\n",(0,r.jsx)(n.p,{children:'Se van a usar las opciones del men\xfa de configuraci\xf3n 1 y 2, que permitir\xe1n "asignar inferfaces" y "asignar una direcci\xf3n Ip a una interfaz".'}),"\n",(0,r.jsx)(n.h3,{id:"asignar-interfaces-de-red",children:"Asignar interfaces de red"}),"\n",(0,r.jsx)(n.p,{children:"Se escoge la opci\xf3n 1 del men\xfa de opciones y se responde a las siguientes cuestiones:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Configurar protocolo LAGGs?, No"}),"\n",(0,r.jsx)(n.li,{children:"Configurar protocolo VLANs?, No"}),"\n",(0,r.jsx)(n.li,{children:"Escribir nombre WAN: em0"}),"\n",(0,r.jsx)(n.li,{children:"Escribir nombre LAN: em1"}),"\n",(0,r.jsx)(n.li,{children:"A\xf1adir otra interfaz opcional?, intro (que es lo mismo que no asignar nada)."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Se muestran los resultados de la asignaci\xf3n y si son correctos se aceptan."}),"\n",(0,r.jsx)(n.h3,{id:"asignar-direcci\xf3n-ip",children:"Asignar direcci\xf3n IP"}),"\n",(0,r.jsx)(n.p,{children:"Se escoge la opci\xf3n 2 del men\xfa de configuraci\xf3n y se responden a las siguientes cuestiones:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Escoger la interfaz a modificar introduciendo un n\xfamero (1,2,n) acorde a como sean listadas."}),"\n",(0,r.jsx)(n.li,{children:"Configurar DHCP?, No"}),"\n",(0,r.jsx)(n.li,{children:"Introducir datos de la configuraci\xf3n de la IP, si hubiese alg\xfan conflicto con otra direcci\xf3n de la red lo comunicar\xeda la distro por terminal."}),"\n",(0,r.jsx)(n.li,{children:"N\xfamero de bits a asignar a la m\xe1scara de subred, responder entre 1 y 32 bits."}),"\n",(0,r.jsx)(n.li,{children:"Configurar otra interfaz?, seg\xfan sea el caso s\xed o no."}),"\n",(0,r.jsx)(n.li,{children:"Configurar IPv6?, No"}),"\n",(0,r.jsx)(n.li,{children:"Cambiar HTTPS por HTTP?, No"}),"\n",(0,r.jsx)(n.li,{children:"Nuevo certificado para la GUI?, S\xed"}),"\n",(0,r.jsx)(n.li,{children:"Resetear los valores por defecto de la GUI?, No"}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(t,{...e})}):t(e)}}}]);
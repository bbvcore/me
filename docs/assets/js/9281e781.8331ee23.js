"use strict";(self.webpackChunkmydocs=self.webpackChunkmydocs||[]).push([[1118],{4079:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>u,frontMatter:()=>o,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"Linux/Texto/awk","title":"AWK","description":"Permite realizar la manipulaci\xf3n de ficheros de forma compleja mediante la manipulaci\xf3n de patrones, es considerado un lenguaje de programaci\xf3n de proposito espec\xedfico para texto estructurado en campos.","source":"@site/docs/Linux/Texto/awk.md","sourceDirName":"Linux/Texto","slug":"/Linux/Texto/awk","permalink":"/me/docs/docs/Linux/Texto/awk","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Linux/Texto/awk.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"AWK"},"sidebar":"tutorialSidebar","previous":{"title":"Sed","permalink":"/me/docs/docs/Linux/Texto/sed"},"next":{"title":"scada BR","permalink":"/me/docs/docs/OT/ignition"}}');var r=i(4848),s=i(8453);const o={sidebar_position:3,title:"AWK"},l="AWK",c={},d=[{value:"Imprimir datos",id:"imprimir-datos",level:2},{value:"De una columna particular",id:"de-una-columna-particular",level:3},{value:"Por defecto el delimitador es un espacio en blanco",id:"por-defecto-el-delimitador-es-un-espacio-en-blanco",level:4},{value:"Especificar otro delimitador",id:"especificar-otro-delimitador",level:4},{value:"Cumplir una condici\xf3n",id:"cumplir-una-condici\xf3n",level:4},{value:"Contar l\xedneas",id:"contar-l\xedneas",level:4},{value:"Sumar columnas",id:"sumar-columnas",level:4},{value:"Funci\xf3n GSUB",id:"funci\xf3n-gsub",level:2},{value:"Casos pr\xe1cticos GSUB",id:"casos-pr\xe1cticos-gsub",level:3},{value:"Eliminar par\xe9ntesis",id:"eliminar-par\xe9ntesis",level:4},{value:"Eliminar comas",id:"eliminar-comas",level:4},{value:"Reemplazar vocales",id:"reemplazar-vocales",level:4},{value:"Reemplazar un simbolo por otro",id:"reemplazar-un-simbolo-por-otro",level:4},{value:"Consejo",id:"consejo",level:2}];function t(e){const n={admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"awk",children:"AWK"})}),"\n",(0,r.jsx)(n.p,{children:"Permite realizar la manipulaci\xf3n de ficheros de forma compleja mediante la manipulaci\xf3n de patrones, es considerado un lenguaje de programaci\xf3n de proposito espec\xedfico para texto estructurado en campos."}),"\n",(0,r.jsx)(n.h2,{id:"imprimir-datos",children:"Imprimir datos"}),"\n",(0,r.jsx)(n.h3,{id:"de-una-columna-particular",children:"De una columna particular"}),"\n",(0,r.jsx)(n.p,{children:"Para imprimir datos de una columna particular se utiliza el simbolo del dolar m\xe1s el n\xfamero que hace de indice de la posici\xf3n de dicha columna en el encabezado obtenido o analizado."}),"\n",(0,r.jsx)(n.h4,{id:"por-defecto-el-delimitador-es-un-espacio-en-blanco",children:"Por defecto el delimitador es un espacio en blanco"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"awk `{print:$1}' fichero.txt\n"})}),"\n",(0,r.jsx)(n.h4,{id:"especificar-otro-delimitador",children:"Especificar otro delimitador"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"awk -F ',' '{print $2}' fichero.csv\n"})}),"\n",(0,r.jsx)(n.h4,{id:"cumplir-una-condici\xf3n",children:"Cumplir una condici\xf3n"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"awk '$2>5' notas.txt\n"})}),"\n",(0,r.jsx)(n.h4,{id:"contar-l\xedneas",children:"Contar l\xedneas"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"awk 'END {print NR}' fichero.txt\n"})}),"\n",(0,r.jsx)(n.admonition,{title:"Par\xe1metros",type:"tip",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"END"}),": ",(0,r.jsx)(n.em,{children:"acciones despu\xe9s de procesar todas las l\xedneas, para operaciones acumulativas"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"NR"}),": ",(0,r.jsx)(n.em,{children:"n\xfamero de l\xedneas le\xeddas"}),"."]}),"\n"]})}),"\n",(0,r.jsxs)(n.p,{children:["Una vez finalizada la ejecuci\xf3n se procede a mostrar el ",(0,r.jsx)(n.strong,{children:"n\xfamero de l\xedneas"}),". Es similar al resultado obtenido con el comando ",(0,r.jsx)(n.strong,{children:"wc"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"cat fichero.txt | wc -l\n"})}),"\n",(0,r.jsx)(n.h4,{id:"sumar-columnas",children:"Sumar columnas"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"awk '{suma += $2} END {print suma}' fichero.txt\n"})}),"\n",(0,r.jsx)(n.p,{children:"Se realiza la suma acumulativa de los valores del campo 2 y una vez finalizado se muestra el resultado acumulado en la variable suma."}),"\n",(0,r.jsx)(n.h2,{id:"funci\xf3n-gsub",children:"Funci\xf3n GSUB"}),"\n",(0,r.jsxs)(n.p,{children:["La funci\xf3n ",(0,r.jsx)(n.strong,{children:"GSUB"})," en ",(0,r.jsx)(n.strong,{children:"AWK"})," cumple la funci\xf3n de buscar y reemplazar similar a los editores de texto.  Su sintaxis b\xe1sica es la siguiente."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'gsub(/LoBuscado/, <"LoQueA\xf1adir">, <"DondeBuscarlo">)\n'})}),"\n",(0,r.jsxs)(n.p,{children:["Si no se utiliza donde buscar se usa por defecto el ",(0,r.jsx)(n.strong,{children:"nombre del script"})," en ",(0,r.jsx)(n.em,{children:"ejecuci\xf3n"})," ya que usa el valor devuelto por ",(0,r.jsx)(n.strong,{children:"$0"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"casos-pr\xe1cticos-gsub",children:"Casos pr\xe1cticos GSUB"}),"\n",(0,r.jsx)(n.h4,{id:"eliminar-par\xe9ntesis",children:"Eliminar par\xe9ntesis"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'gsub(/[()]/, "", $5)\n'})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["El primer argumento se utiliza para buscar cualquier par\xe9ntesis. Las barras son ",(0,r.jsx)(n.em,{children:"por defecto"})," y los ",(0,r.jsx)(n.em,{children:"corchetes"})," para indicar cualquier caracter incluido dentro de ellos, en este caso los par\xe9ntesis."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"El segundo argumento, permite reemplazar los par\xe9ntesis por nada, al ser comillas dobles sin espacio, es decir elimina los par\xe9ntesis si los encuentra."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"El tercer argumento espec\xedfica donde se ha de aplicar la acci\xf3n, en este caso en el campo n\xfamero 5 de la cabecera gestionada por AWK"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"eliminar-comas",children:"Eliminar comas"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'gsub(/,/, "",$2)\n'})}),"\n",(0,r.jsx)(n.h4,{id:"reemplazar-vocales",children:"Reemplazar vocales"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'gsub(/aeiou/, "X", $3)\n'})}),"\n",(0,r.jsx)(n.h4,{id:"reemplazar-un-simbolo-por-otro",children:"Reemplazar un simbolo por otro"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'gsub(/-/, "/", $1)\n'})}),"\n",(0,r.jsx)(n.h2,{id:"consejo",children:"Consejo"}),"\n",(0,r.jsxs)(n.p,{children:["Si se va a utilizar un patr\xf3n que utilice ",(0,r.jsx)(n.strong,{children:"slash"})," como una ruta se recomienda utilizar otro delimitador en vez del ",(0,r.jsx)(n.strong,{children:"slash"}),", como por ejemplo las ",(0,r.jsx)(n.strong,{children:"pipeline"}),"."]})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(t,{...e})}):t(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>l});var a=i(6540);const r={},s=a.createContext(r);function o(e){const n=a.useContext(s);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),a.createElement(s.Provider,{value:n},e.children)}}}]);
"use strict";(self.webpackChunkmydocs=self.webpackChunkmydocs||[]).push([[3174],{4928:(e,r,a)=>{a.r(r),a.d(r,{assets:()=>d,contentTitle:()=>s,default:()=>u,frontMatter:()=>i,metadata:()=>l,toc:()=>t});const l=JSON.parse('{"id":"Ciberseguridad/Cortafuegos/fw","title":"Firewall Windows Defender","description":"Se trata del cortafuegos de Windows para el control del tr\xe1fico entrante y saliente en Windows, forma parte de Windows Defender Security Center.","source":"@site/docs/Ciberseguridad/Cortafuegos/fw.md","sourceDirName":"Ciberseguridad/Cortafuegos","slug":"/Ciberseguridad/Cortafuegos/fw","permalink":"/me/docs/docs/Ciberseguridad/Cortafuegos/fw","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Ciberseguridad/Cortafuegos/fw.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"title":"Firewall Windows Defender"},"sidebar":"tutorialSidebar","previous":{"title":"OpenSSL","permalink":"/me/docs/docs/Ciberseguridad/Certificados/openssl"},"next":{"title":"Iptables","permalink":"/me/docs/docs/Ciberseguridad/Cortafuegos/iptables"}}');var n=a(4848),o=a(8453);const i={sidebar_position:1,title:"Firewall Windows Defender"},s=":dart: Firewall Windows Defender",d={},t=[{value:"B\xe1sico",id:"b\xe1sico",level:2},{value:"\ud83d\udd13 Desactivar Firewall",id:"unlock-desactivar-firewall",level:3},{value:"\ud83d\udd12 Activar Firewall",id:"lock-activar-firewall",level:3},{value:"\u267b\ufe0f Resetear Firewall",id:"recycle-resetear-firewall",level:3},{value:"\ud83d\udcdd Reglas",id:"-reglas",level:2},{value:"\u2713 Bloquear tr\xe1fico entrante a servidor local",id:"-bloquear-tr\xe1fico-entrante-a-servidor-local",level:3},{value:"\u2713 Bloquear tr\xe1fico entrante del navegador",id:"-bloquear-tr\xe1fico-entrante-del-navegador",level:3},{value:"\u2713 Bloquear tr\xe1fico saliente a servidor local",id:"-bloquear-tr\xe1fico-saliente-a-servidor-local",level:3},{value:"\u2713 Bloquear tr\xe1fico de entrada al servidor local",id:"-bloquear-tr\xe1fico-de-entrada-al-servidor-local",level:3},{value:"\u2713 Verificar las reglas",id:"-verificar-las-reglas",level:3},{value:"\u2699 Anexo: Power Shell",id:"-anexo-power-shell",level:4},{value:"\ud83d\udcdd Borrar las reglas, perfiles o propiedades",id:"-borrar-las-reglas-perfiles-o-propiedades",level:3}];function c(e){const r={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components},{Details:a}=r;return a||function(e,r){throw new Error("Expected "+(r?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.header,{children:(0,n.jsxs)(r.h1,{id:"dart-firewall-windows-defender",children:["\ud83c\udfaf"," Firewall Windows Defender"]})}),"\n",(0,n.jsx)(r.p,{children:"Se trata del cortafuegos de Windows para el control del tr\xe1fico entrante y saliente en Windows, forma parte de Windows Defender Security Center."}),"\n",(0,n.jsx)(r.h2,{id:"b\xe1sico",children:"B\xe1sico"}),"\n",(0,n.jsxs)(r.h3,{id:"unlock-desactivar-firewall",children:["\ud83d\udd13"," Desactivar Firewall"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-batch",children:"netsh advfirewall set allprofiles state off\n"})}),"\n",(0,n.jsxs)(r.h3,{id:"lock-activar-firewall",children:["\ud83d\udd12"," Activar Firewall"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-batch",children:"netsh advfirewall set allprofiles state on\n"})}),"\n",(0,n.jsxs)(r.h3,{id:"recycle-resetear-firewall",children:["\u267b\ufe0f"," Resetear Firewall"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-batch",children:"netsh advfirewall reset\n"})}),"\n",(0,n.jsx)(r.h2,{id:"-reglas",children:"\ud83d\udcdd Reglas"}),"\n",(0,n.jsx)(r.h3,{id:"-bloquear-tr\xe1fico-entrante-a-servidor-local",children:"\u2713 Bloquear tr\xe1fico entrante a servidor local"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-batch",children:'netsh advfirewall firewall add rule name="Bloquear HTTP de entrada" dir=in action=block protocol=TCP localport=80\r\nnetsh advfirewall firewall add rule name="Bloquear HTTPS de entrada" dir=in action=block protocol=TCP localport=443\n'})}),"\n",(0,n.jsx)(r.h3,{id:"-bloquear-tr\xe1fico-entrante-del-navegador",children:"\u2713 Bloquear tr\xe1fico entrante del navegador"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-batch",children:'netsh advfirewall firewall add rule name="Bloquear HTTP de entrada" dir=in action=block protocol=TCP remoteport=80\r\nnetsh advfirewall firewall add rule name="Bloquear HTTPS de entrada" dir=in action=block protocol=TCP remoteport=443\n'})}),"\n",(0,n.jsx)(r.h3,{id:"-bloquear-tr\xe1fico-saliente-a-servidor-local",children:"\u2713 Bloquear tr\xe1fico saliente a servidor local"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-batch",children:'netsh advfirewall firewall add rule name="Bloquear HTTP de salida" dir=out action=block protocol=TCP localport=80\r\nnetsh advfirewall firewall add rule name="Bloquear HTTPS de salida" dir=out action=block protocol=TCP localport=443\n'})}),"\n",(0,n.jsx)(r.h3,{id:"-bloquear-tr\xe1fico-de-entrada-al-servidor-local",children:"\u2713 Bloquear tr\xe1fico de entrada al servidor local"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-batch",children:'netsh advfirewall firewall add rule name="Bloquear HTTP de entrada" dir=in action=block protocol=TCP remoteport=80\r\nnetsh advfirewall firewall add rule name="Bloquear HTTPS de entrada" dir=in action=block protocol=TCP remoteport=443\n'})}),"\n",(0,n.jsx)(r.h3,{id:"-verificar-las-reglas",children:"\u2713 Verificar las reglas"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-batch",children:'netsh advfirewall firewall show rule name="Bloquear HTTP de entrada"\n'})}),"\n",(0,n.jsxs)(a,{children:[(0,n.jsx)("summary",{children:(0,n.jsx)(r.p,{children:'Ejemplo del resultado de la consulta sobre la regla "Bloquear HTTP de entrada"'})}),(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-batch",children:"\r\nNombre de regla:                      Bloquear HTTP de entrada\r\n----------------------------------------------------------------------\r\nHabilitada:                           S\xed\r\nDirecci\xf3n:                            Fuera\r\nPerfiles:                             Dominio,Privada,P\xfablica\r\nAgrupamiento:\r\nLocalIP:                              Cualquiera\r\nRemoteIP:                             Cualquiera\r\nProtocolo:                            TCP\r\nLocalPort:                            Cualquiera\r\nRemotePort:                           80\r\nCruce seguro del per\xedmetro:          No\r\nAcci\xf3n:                               Bloquear\r\n\r\nNombre de regla:                      Bloquear HTTP de entrada\r\n----------------------------------------------------------------------\r\nHabilitada:                           S\xed\r\nDirecci\xf3n:                            Dentro\r\nPerfiles:                             Dominio,Privada,P\xfablica\r\nAgrupamiento:\r\nLocalIP:                              Cualquiera\r\nRemoteIP:                             Cualquiera\r\nProtocolo:                            TCP\r\nLocalPort:                            Cualquiera\r\nRemotePort:                           80\r\nCruce seguro del per\xedmetro:          No\r\nAcci\xf3n:                               Bloquear\r\n\r\nNombre de regla:                      Bloquear HTTP de entrada\r\n----------------------------------------------------------------------\r\nHabilitada:                           S\xed\r\nDirecci\xf3n:                            Dentro\r\nPerfiles:                             Dominio,Privada,P\xfablica\r\nAgrupamiento:\r\nLocalIP:                              Cualquiera\r\nRemoteIP:                             Cualquiera\r\nProtocolo:                            TCP\r\nLocalPort:                            80\r\nRemotePort:                           Cualquiera\r\nCruce seguro del per\xedmetro:          No\r\nAcci\xf3n:                               Bloquear\r\nAceptar\n"})})]}),"\n",(0,n.jsx)(r.admonition,{type:"warning",children:(0,n.jsxs)(r.p,{children:["Las reglas para la gesti\xf3n del cortafuegos de Windows se est\xe1n llevando a cabo con ",(0,n.jsx)(r.strong,{children:"netsh"})," para que sea m\xe1s compatible con Windows al poder ejecutarse desde cualquier versi\xf3n de Windows al ser ejecutables desde ",(0,n.jsx)(r.strong,{children:"CMD"})," y no hacer falta la ",(0,n.jsx)(r.strong,{children:"Power Shell"})]})}),"\n",(0,n.jsx)(r.h4,{id:"-anexo-power-shell",children:"\u2699 Anexo: Power Shell"}),"\n",(0,n.jsxs)(r.p,{children:["El cortafuegos puede gestionarse desde la ",(0,n.jsx)(r.strong,{children:"Power Shell"})," con comandos b\xe1sicos como los siguientes."]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-powershell",children:'New-NetFirewallRule -DisplayName "Nombre regla" -Direction "" -Protocol "" -LocalPort -Action\r\nRemove-NetFirewallRule -DisplayName "Nombre regla"\r\nSet-NetFirewallProfile -Profile Domain,Public,Private -Enabled True\r\nSet-NetFirewallProfile -Profile Domain,Public,Private -Enabled False\n'})}),"\n",(0,n.jsx)(r.admonition,{title:"Resetear reglas en PowerShell",type:"tip",children:(0,n.jsxs)(r.p,{children:["Curiosamente para resetear las reglas, es necesario usar ",(0,n.jsx)(r.strong,{children:"netsh"}),", no existe un CMD-LET para tal fin"]})}),"\n",(0,n.jsx)(r.h3,{id:"-borrar-las-reglas-perfiles-o-propiedades",children:"\ud83d\udcdd Borrar las reglas, perfiles o propiedades"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-batch",children:'netsh advfirewall firewall delete rule name="<nombre regla>"\n'})}),"\n",(0,n.jsxs)(a,{children:[(0,n.jsx)("summary",{children:(0,n.jsx)(r.p,{children:"Ejemplo de borrado de reglas"})}),(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-batch",children:'netsh advfirewall firewall delete rule name="Bloquear HTTP de entrada"\r\n\r\nSe eliminaron 3 reglas.\r\nAceptar\n'})})]}),"\n",(0,n.jsx)(r.admonition,{title:"Puertos principales",type:"tip",children:(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:"22 (SSH)"}),"\n",(0,n.jsx)(r.li,{children:"21 (FTP)"}),"\n",(0,n.jsx)(r.li,{children:"23 (Telnet)"}),"\n",(0,n.jsx)(r.li,{children:"25 (SMTP) - 587"}),"\n",(0,n.jsx)(r.li,{children:"53 (DNS)"}),"\n",(0,n.jsx)(r.li,{children:"25 (SMTP)"}),"\n",(0,n.jsx)(r.li,{children:"80 (HTTP) - 443"}),"\n",(0,n.jsx)(r.li,{children:"110 (POP3) - 995"}),"\n",(0,n.jsx)(r.li,{children:"143 (IMAP) - 993"}),"\n"]})})]})}function u(e={}){const{wrapper:r}={...(0,o.R)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},8453:(e,r,a)=>{a.d(r,{R:()=>i,x:()=>s});var l=a(6540);const n={},o=l.createContext(n);function i(e){const r=l.useContext(o);return l.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function s(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:i(e.components),l.createElement(o.Provider,{value:r},e.children)}}}]);
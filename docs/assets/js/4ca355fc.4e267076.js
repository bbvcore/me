"use strict";(self.webpackChunkmydocs=self.webpackChunkmydocs||[]).push([[5827],{6130:(e,a,r)=>{r.r(a),r.d(a,{assets:()=>d,contentTitle:()=>t,default:()=>u,frontMatter:()=>s,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"Linux/Configuration/jaula","title":"Jaula Root","description":"Jaula para recuperaci\xf3n del Sistema","source":"@site/docs/Linux/Configuration/jaula.md","sourceDirName":"Linux/Configuration","slug":"/Linux/Configuration/jaula","permalink":"/me/docs/docs/Linux/Configuration/jaula","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Linux/Configuration/jaula.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"title":"Jaula Root"},"sidebar":"tutorialSidebar","previous":{"title":"Grub","permalink":"/me/docs/docs/Linux/Configuration/grub"},"next":{"title":"Keyboard","permalink":"/me/docs/docs/Linux/Configuration/keyboard"}}');var n=r(4848),i=r(8453);const s={sidebar_position:1,title:"Jaula Root"},t="JAULA ROOT",d={},l=[{value:"Jaula para recuperaci\xf3n del Sistema",id:"jaula-para-recuperaci\xf3n-del-sistema",level:2},{value:"Montaje de directorio <strong>chroot</strong>.",id:"montaje-de-directorio-chroot",level:3},{value:"Montar partici\xf3n ra\xedz en el directorio creado en /mnt",id:"montar-partici\xf3n-ra\xedz-en-el-directorio-creado-en-mnt",level:3},{value:"Montar principales directorios del sistema para poder utilizar la utilidad de root",id:"montar-principales-directorios-del-sistema-para-poder-utilizar-la-utilidad-de-root",level:3},{value:"Pseudo terminales (emulaciones de PTY&#39;s)",id:"pseudo-terminales-emulaciones-de-ptys",level:2},{value:"Acceso a la jaula creada",id:"acceso-a-la-jaula-creada",level:2},{value:"Cambio passwd",id:"cambio-passwd",level:3},{value:"Salir de la jaula",id:"salir-de-la-jaula",level:2},{value:"Anexo: Jaula r\xe1pida para cambiar password",id:"anexo-jaula-r\xe1pida-para-cambiar-password",level:2},{value:"Manipulaci\xf3n del root",id:"manipulaci\xf3n-del-root",level:3},{value:"Deshabilitar root",id:"deshabilitar-root",level:4},{value:"Habilitar root",id:"habilitar-root",level:4}];function c(e){const a={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.header,{children:(0,n.jsx)(a.h1,{id:"jaula-root",children:"JAULA ROOT"})}),"\n",(0,n.jsx)(a.h2,{id:"jaula-para-recuperaci\xf3n-del-sistema",children:"Jaula para recuperaci\xf3n del Sistema"}),"\n",(0,n.jsxs)(a.h3,{id:"montaje-de-directorio-chroot",children:["Montaje de directorio ",(0,n.jsx)(a.strong,{children:"chroot"}),"."]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-bash",children:"sudo mkdir /mnt/chroot\n"})}),"\n",(0,n.jsx)(a.h3,{id:"montar-partici\xf3n-ra\xedz-en-el-directorio-creado-en-mnt",children:"Montar partici\xf3n ra\xedz en el directorio creado en /mnt"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-bash",children:"sudo mount --bind / /mnt/chroot\n"})}),"\n",(0,n.jsxs)(a.p,{children:["El par\xe1metro ",(0,n.jsx)(a.strong,{children:"bind"})," permite enlazar el ",(0,n.jsx)(a.strong,{children:"directorio ra\xedz"})," al directorio creado en el punto de montaje ",(0,n.jsx)(a.strong,{children:"mnt/chroot"}),", de esta forma la comunicaci\xf3n ser\xe1 bidireccionalmente."]}),"\n",(0,n.jsx)(a.h3,{id:"montar-principales-directorios-del-sistema-para-poder-utilizar-la-utilidad-de-root",children:"Montar principales directorios del sistema para poder utilizar la utilidad de root"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-bash",children:"sudo mount -t proc proc /mnt/chroot/proc\r\nsudo mount -t sysfs sys /mnt/chroot/sys\r\nsudo mount -o bind /dev /mnt/chroot/dev\n"})}),"\n",(0,n.jsxs)(a.p,{children:["Ell par\xe1metro ",(0,n.jsx)(a.strong,{children:"-t"})," especifica el tipo de ficheros, es opcional pero permite otorgar a la jaulan una mayor robustez y ayudar\xe1 a evitar problemas durante la implementaci\xf3n del sistema de ficheros"]}),"\n",(0,n.jsx)(a.h2,{id:"pseudo-terminales-emulaciones-de-ptys",children:"Pseudo terminales (emulaciones de PTY's)"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-bash",children:"sudo mount -t devpts devpts /mnt/chroot/dev/pts\n"})}),"\n",(0,n.jsx)(a.h2,{id:"acceso-a-la-jaula-creada",children:"Acceso a la jaula creada"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-bash",children:"sudo chroot /mnt/chroot\r\nWelcome to Linux Lite 7.4\r\n \r\nYou are running in superuser mode, be very careful.\r\n \r\nFriday 11 April 2025, 09:20:01\r\nMemory Usage: 3117/3915MB (79.62%)\r\nDisk Usage: 23/29GB (82%)\n"})}),"\n",(0,n.jsx)(a.h3,{id:"cambio-passwd",children:"Cambio passwd"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-bash",children:"passwd root\r\nNew password: \r\nRetype new password: \r\npasswd: password updated successfully\n"})}),"\n",(0,n.jsx)(a.h2,{id:"salir-de-la-jaula",children:"Salir de la jaula"}),"\n",(0,n.jsxs)(a.p,{children:["Para salir de la jaula se utiliza el comando ",(0,n.jsx)(a.strong,{children:"exit"})," y a continuaci\xf3n se procede a desmontar la jaula con el comando"]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-bash",children:"sudo umount /mnt/chroot/ todos directorios montados\n"})}),"\n",(0,n.jsx)(a.h2,{id:"anexo-jaula-r\xe1pida-para-cambiar-password",children:"Anexo: Jaula r\xe1pida para cambiar password"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-bash",children:"sudo mkdir -p /home/jaula/bin\r\nsudo cp /bin/bash /home/jaula/bin/ # Ejecutables necesarios\r\nsudo chroot /home/jaula /bin/bash\n"})}),"\n",(0,n.jsx)(a.h3,{id:"manipulaci\xf3n-del-root",children:"Manipulaci\xf3n del root"}),"\n",(0,n.jsx)(a.h4,{id:"deshabilitar-root",children:"Deshabilitar root"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-bash",children:" sudo passwd -l root\n"})}),"\n",(0,n.jsx)(a.h4,{id:"habilitar-root",children:"Habilitar root"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-bash",children:"sudo passwd -u root\n"})})]})}function u(e={}){const{wrapper:a}={...(0,i.R)(),...e.components};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},8453:(e,a,r)=>{r.d(a,{R:()=>s,x:()=>t});var o=r(6540);const n={},i=o.createContext(n);function s(e){const a=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function t(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:s(e.components),o.createElement(i.Provider,{value:a},e.children)}}}]);
"use strict";(self.webpackChunkmydocs=self.webpackChunkmydocs||[]).push([[3688],{1873:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>o,default:()=>p,frontMatter:()=>r,metadata:()=>a,toc:()=>l});const a=JSON.parse('{"id":"Programacion/Shell-scripts/ips-externas","title":"IPs Externas","description":"Sistemas cl\xe1sicos","source":"@site/docs/Programacion/Shell-scripts/ips-externas.md","sourceDirName":"Programacion/Shell-scripts","slug":"/Programacion/Shell-scripts/ips-externas","permalink":"/me/docs/docs/Programacion/Shell-scripts/ips-externas","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Programacion/Shell-scripts/ips-externas.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"title":"IPs Externas"},"sidebar":"tutorialSidebar","previous":{"title":"Install python","permalink":"/me/docs/docs/Programacion/Shell-scripts/install-python-debian"},"next":{"title":"IPs internas","permalink":"/me/docs/docs/Programacion/Shell-scripts/ips-lan-nmap-arrays"}}');var i=n(4848),t=n(8453);const r={sidebar_position:1,title:"IPs Externas"},o="Obtener IPs externas",c={},l=[{value:"Sistemas cl\xe1sicos",id:"sistemas-cl\xe1sicos",level:2},{value:"Sistemas actuales",id:"sistemas-actuales",level:2},{value:"Consejo",id:"consejo",level:2}];function d(e){const s={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,t.R)(),...e.components},{Details:n}=s;return n||function(e,s){throw new Error("Expected "+(s?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"obtener-ips-externas",children:"Obtener IPs externas"})}),"\n",(0,i.jsx)(s.h2,{id:"sistemas-cl\xe1sicos",children:"Sistemas cl\xe1sicos"}),"\n",(0,i.jsxs)(n,{children:[(0,i.jsx)("summary",{children:(0,i.jsx)(s.p,{children:"Scripts compatibles con sistemas antiguos"})}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:'#!/bin/bash\n# Array con las IPs de las conexiones establecidas\nips=($((ss -tuln | grep ESTAB | awk \'{print $5}\'  | cut -d\':\' -f1 )))\n\n# Visualizaci\xf3n de IPs\necho "IPs de las conexiones establecidas"\nfor ip in "${ips[@]}"; do\n    echo "$ip"\ndone\n'})})]}),"\n",(0,i.jsx)(s.h2,{id:"sistemas-actuales",children:"Sistemas actuales"}),"\n",(0,i.jsxs)(n,{children:[(0,i.jsx)("summary",{children:(0,i.jsx)(s.p,{children:"Scripts compatibles con sistemas modernos"})}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:'#!/bin/bash\n# Array con las IPs de las conexiones establecidas\nreadarray -t ips < <(\n    ss -tan state established |\n    grep -Ev \'^(127\\.|::1|0\\.0\\.0\\.0|::)$\' |\n    sort -u\n)\n# Mostrar las IPs almacenadas \necho "Conexiones establecidas: "\nfor ip in "${ip_array[@]}"; do\n    echo "$ip"\ndone\n'})})]}),"\n",(0,i.jsx)(s.h2,{id:"consejo",children:"Consejo"}),"\n",(0,i.jsx)(s.p,{children:"Utilizar nmap con el par\xe1metro n para que no resuelva direcciones DNS evita problemas en la gesti\xf3n de los espacios, si solo hacen falta las IPs es una soluci\xf3n m\xe1s limpia utilizar dicho modificador para Nmap."})]})}function p(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>r,x:()=>o});var a=n(6540);const i={},t=a.createContext(i);function r(e){const s=a.useContext(t);return a.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),a.createElement(t.Provider,{value:s},e.children)}}}]);